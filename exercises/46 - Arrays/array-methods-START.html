<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title> </title>
  <link rel="stylesheet" href="../../base.css" />
</head>

<body>
  <script>
    const toppings = [
      'Mushrooms',
      'Tomatoes',
      'Eggs',
      'Chili',
      'Lettuce',
      'Avocado',
      'Chiles',
      'Bacon',
      'Pickles',
      'Onions',
      'Cheese',
    ];

    const buns = ['egg', 'wonder', 'brioche'];

    const meats = {
      beyond: 10,
      beef: 5,
      pork: 7,
    };

    const prices = {
      hotDog: 453,
      burger: 765,
      sausage: 634,
      corn: 234,
    };

    const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

    const feedback = [
  {
        comment: 'Love the burgs',
        rating: 4,
      },
      {
        comment: 'Horrible Service',
        rating: 2,
      },
      {
        comment: 'Smoothies are great, liked the burger too',
        rating: 5,
      },
      {
        comment: 'Ambiance needs work',
        rating: 3,
      },
      {
        comment: 'I DONT LIKE BURGERS',
        rating: 1,
      },
    ];

    /*
      Static Methods
    */

    // Array.of();
    // Creating an array from its argument
    // Array.of('daniel', 'kat');
    // console.log(Array.of([...'daniel'])); // Spreads the letters into an Array

    // Make a function that creates a range from x to y with Array.from();
    // Will take an iterable(length), and returns an array with empty spots
    // Array.from({length: iterable}, map argument);
    function createRange(start, end) {
      // Array.from with the length of how many the range will be
      // Function will return the index to be inserted into the array
      const range = Array.from(
        {
          length: end - start + 1,
        },
        function(item, index) {
          return index + start;
        }
      );
      return range;
    }

    const myRange = createRange(2, 9);

    // Check if the last array you created is really an array with Array.isArray();
    // console.log(Array.isArray(myRange));

    // Take the meats object and make three arrays with Object.entries(), Object.keys, Object.values()
    // // Will give n Arrays of keys and values
    // console.log(Object.entries(meats));
    // // Will give an array of keys
    // console.log(Object.keys(meats));
    // // Will give an array of values
    // console.log(Object.values(meats));

    // use destructuring so instead of passing in 'entry', the keys and values or one of them are directly passed in
    // Object.entries(meats).forEach(([key, value]) => {
    //   console.log(key, value);
    // });
    /*
      Instance Methods
    */

    // Display all bun types with " or " - use join()
    // console.log(buns.join(' or '));
    // create a string combining all elements of the array with an optional string in between

    // We have a string "hot dogs,hamburgers,sausages,corn" - use split() to turn it into a string
    const food = 'hot dogs,hamburgers,sausages,corn';
    // console.log(food.split(',')); // using split with empty string will make an array of characters

    // take the last item off toppings with pop()
    // const last = toppings.pop(); // Mutable method, removes the last item in the array
    // // add it back with push()
    // toppings.push(last);
    // // take the first item off toppings with shift()
    // const first = toppings.shift();
    // // add it back in with unshift()
    // toppings.unshift(first);

    // Do the last four,but immutable (with spreads and new variables)
    let newToppings = toppings.slice(0, toppings.length - 1);
    // Adds array indexed 0 to BEFORE array.length without mutating the original array

    newToppings = [...newToppings, toppings[toppings.length - 1]];
    // Adds the last item without mutating the original array

    newToppings = toppings.slice(1, toppings.length);
    // console.log(newToppings);
    newToppings = [toppings[0], ...newToppings];
    // Make a copy of the toppings array with slice()
    const sliceToppings = toppings.slice(0);
    // Make a copy of the toppings array with a spread
    const spreadToppings = [...toppings];
    // take out items 3 to 5 of your new toppings array with splice()
    // console.log(sliceToppings);
    sliceToppings.splice(2, 3);
    // console.log(sliceToppings);
    // find the index of Avocado with indexOf() / lastIndexOf()
    // console.log(sliceToppings.indexOf('Avocado'));
    // Check if hot sauce is in the toppings with includes()
    // add it if it's not
    // !sliceToppings.includes('hot sauce') && sliceToppings.push('hot sauce');
    // flip those toppings around with reverse()
    sliceToppings.reverse();
    // console.log(sliceToppings);
    /*
      Callback Methods
    */

    // find the first rating that talks about a burger with find()
    const findRating = numRate => item => item.rating > numRate;

    // Create a function that creates another function
    // findWord will accept a word argument and call another function that uses the argument
    const findWord = word => singleFeedback =>
      singleFeedback.comment.includes(word);
    // Returns the first instance with true statement
    const burgRating = feedback.find(findWord('burg'));

    // console.log(burgRating);
    // find all ratings that are above 2 with filter()
    const allGood = feedback.filter(findRating(2));
    // console.log(allGood);
    // find all ratings that talk about a burger with filter()
    const findSmoothie = feedback.filter(findWord('Smoothie'));
    // console.log(findSmoothie);
    // Remove the one star rating however you like!
    const noOne = feedback.filter(findRating(1));
    // console.log(noOne);
    // check if there is at least 5 of one type of meat with some()
    // Could not use array methods on objects so convert it first
    const isFiveOrMore = Object.values(meats).some(meat => meat >= 5);
    // make sure we have at least 3 of every meat with every()
    const isEnough = Object.values(meats).every(meat => meat >= 3);
    // sort the toppings alphabetically with sort()
    toppings.sort();
    // sort the order totals from most expensive to least with .sort()
    orderTotals.sort((a, b) => b - a);
    // Sort the prices with sort()
    // convert it into an array to sort
    console.log(Object.entries(prices));
    const productsSorted = Object.entries(prices).sort((a, b) => a[1] - b[1]);
    // Return it back into an object
    console.table(Object.fromEntries(productsSorted));

    /*
      Looping Methods (next)
    */
  </script>
</body>

</html>